<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />

  <!-- жестко фиксируем viewport, убираем зум -->
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <title>PONTY CHESS</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- chess.js фиксированной версии -->
  <script src="https://cdn.jsdelivr.net/npm/chess.js@1.0.0/dist/chess.umd.min.js"></script>
</head>

<body>
  <div class="app">
    <header class="topbar">
      <div class="topbar__left">
        <div class="pill" id="pillMode">LOCAL</div>
      </div>

      <div class="topbar__center">
        <div class="turn" id="turnLabel">WHITE TO MOVE</div>
      </div>

      <div class="topbar__right">
        <button class="iconbtn" id="btnMenu" aria-label="Menu">⏸</button>
      </div>
    </header>

    <main class="stage">
      <section class="boardWrap">
        <div class="board" id="board" aria-label="Chess board"></div>
      </section>

      <section class="panel">
        <div class="row">
          <div class="clock">
            <div class="clock__label">WHITE</div>
            <div class="clock__time" id="clockWhite">05:00</div>
          </div>
          <div class="clock">
            <div class="clock__label">BLACK</div>
            <div class="clock__time" id="clockBlack">05:00</div>
          </div>
        </div>

        <div class="row row--actions">
          <button class="btn" id="btnNew">NEW GAME</button>
          <button class="btn btn--ghost" id="btnUndo">UNDO</button>
        </div>

        <div class="moves">
          <div class="moves__title">MOVES</div>
          <div class="moves__list" id="movesList">—</div>
        </div>
      </section>
    </main>

    <!-- PAUSE SHEET -->
    <div class="sheet hidden" id="sheet">
      <div class="sheet__card">
        <div class="sheet__title">PAUSE</div>
        <button class="sheet__btn" id="btnResume">RESUME</button>
        <button class="sheet__btn sheet__btn--danger" id="btnResign">RESIGN</button>
        <button class="sheet__btn sheet__btn--ghost" id="btnCloseSheet">CLOSE</button>
      </div>
    </div>

    <!-- PROMOTION -->
    <div class="promo hidden" id="promo">
      <div class="promo__card">
        <div class="promo__title">PROMOTION</div>
        <div class="promo__grid">
          <button class="promo__btn" data-p="q">QUEEN</button>
          <button class="promo__btn" data-p="r">ROOK</button>
          <button class="promo__btn" data-p="b">BISHOP</button>
          <button class="promo__btn" data-p="n">KNIGHT</button>
        </div>
      </div>
    </div>

    <div class="toast hidden" id="toast"></div>
  </div>

  <script src="app.js"></script>
</body>
</html>
